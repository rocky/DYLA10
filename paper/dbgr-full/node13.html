<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<!--Converted with LaTeX2HTML 2008 (1.71)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>Line Caching and Position Remapping</TITLE>
<META NAME="description" CONTENT="Line Caching and Position Remapping">
<META NAME="keywords" CONTENT="dbgr-full">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META NAME="Generator" CONTENT="LaTeX2HTML v2008">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="dbgr-full.css">

<LINK REL="previous" HREF="node12.html">
<LINK REL="up" HREF="node9.html">
<LINK REL="next" HREF="node14.html">
</HEAD>

<BODY >

<DIV CLASS="navigation"><!--Navigation Panel-->
<A NAME="tex2html158"
  HREF="node14.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next"
 SRC="/usr/share/latex2html/icons/next.png"></A> 
<A NAME="tex2html156"
  HREF="node9.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up"
 SRC="/usr/share/latex2html/icons/up.png"></A> 
<A NAME="tex2html152"
  HREF="node12.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous"
 SRC="/usr/share/latex2html/icons/prev.png"></A>   
<BR>
<B> Next:</B> <A NAME="tex2html159"
  HREF="node14.html">Similarity between a Debugger</A>
<B> Up:</B> <A NAME="tex2html157"
  HREF="node9.html">The Anatomy of a</A>
<B> Previous:</B> <A NAME="tex2html153"
  HREF="node12.html">Trace Filtering</A>
<BR>
<BR></DIV>
<!--End of Navigation Panel-->

<H2><A NAME="SECTION00034000000000000000">
Line Caching and Position Remapping</A>
</H2>

<P>
Listing source code would be slow if every time one wanted to see
some portion of source code the file were opened and that portion
extracted. Consequently some dynamic debuggers read in the source code
the first time the code is loaded. Python debuggers do this for
example using the package ``linecache.'' Ruby provides a mechanism to
allow the source code to be saved if a special constant
<code>SCRIPT_LINES__</code> is defined to be a hash type. The advantage of
this over the Python approach is that one can be sure that the
array matches what Ruby is running. However in practice one hardly
notices any discrepancies.

<P>
It may happen, though, that one is not coding directly in the dynamic
language, but rather through some sort of macro-expansion mechanism
such as a templating system. In Ruby/Rails, Merb&nbsp;[#!merb!#] and
Erb&nbsp;[#!erb!#] are examples of such templating systems. So it may be
helpful to have a way to remap portions of one source text onto
another.  This would also allow the source text to be changed outside
of the debugger using the new location names but have them map to
corresponding locations in the running code.

<P>
We have also seen that sometimes code is generated dynamically such as
from a string or from some structures. Having a position-remapping
module facilitates showing such code by extracting the text and
saving it in a temporary file so that it viewed though tools IDEs or
tools that typically work with files.

<P>

<DIV CLASS="navigation"><HR>
<!--Navigation Panel-->
<A NAME="tex2html158"
  HREF="node14.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next"
 SRC="/usr/share/latex2html/icons/next.png"></A> 
<A NAME="tex2html156"
  HREF="node9.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up"
 SRC="/usr/share/latex2html/icons/up.png"></A> 
<A NAME="tex2html152"
  HREF="node12.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous"
 SRC="/usr/share/latex2html/icons/prev.png"></A>   
<BR>
<B> Next:</B> <A NAME="tex2html159"
  HREF="node14.html">Similarity between a Debugger</A>
<B> Up:</B> <A NAME="tex2html157"
  HREF="node9.html">The Anatomy of a</A>
<B> Previous:</B> <A NAME="tex2html153"
  HREF="node12.html">Trace Filtering</A></DIV>
<!--End of Navigation Panel-->
<ADDRESS>
r
2011-04-03
</ADDRESS>
</BODY>
</HTML>
